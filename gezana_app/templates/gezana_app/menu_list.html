{% extends "gezana_app/base.html" %}
{% load static %}

{% block title %}Menu – Gezana{% endblock %}

{% block content %}
<section class="menu-hero">
    <div>
        <p class="eyebrow">Habesha Flavours</p>
        <h2>Share injera, spice, and coffee aromas</h2>
        <p class="lede">From doro wat to tibs and vegan shiro, every plate is cooked fresh with berbere heat and served to share.</p>
    </div>
    <div class="menu-legend">
        <span class="pill veg">Veg</span>
        <span class="pill new">New</span>
        <span class="pill popular">Popular</span>
        <span class="pill chef">Chef's pick</span>
    </div>
</section>

<div class="menu-container">
    {% for item in items %}
    <div class="menu-card">

        {% load static %}

<div class="menu-img-wrapper">
    {% if item.image %}
        <img src="{{ item.image.url }}"
             alt="{{ item.name }}"
             class="menu-img"
             onclick="openModal('{{ item.image.url }}')">
    {% else %}
        <img src="{% static 'images/no_image_available.png' %}"
             class="menu-img"
             alt="No image available">
    {% endif %}

            <div class="menu-badges">
                {% if item.is_vegetarian %}<span class="pill veg">Veg</span>{% endif %}
                {% if item.is_new %}<span class="pill new">New</span>{% endif %}
                {% if item.is_popular %}<span class="pill popular">Popular</span>{% endif %}
                {% if item.is_chef_choice %}<span class="pill chef">Chef</span>{% endif %}
            </div>
            <div class="price-tag">€{{ item.price }}</div>
        </div>

        <div class="menu-card-body">
            <div class="menu-card-top">
                <p class="menu-category">{{ item.get_category_display }}</p>
                <h3 class="menu-item-name">{{ item.name }}</h3>
            </div>

            <p class="menu-item-description">{{ item.description }}</p>

            <p class="menu-item-ingredients">
                <strong>Ingredients:</strong> {{ item.ingredients }}
            </p>

            <div class="menu-card-footer">
                <a href="{% url 'gezana_app:menu_detail' item.pk %}" class="button view-btn">View details</a>
            </div>
        </div>

    </div>
    {% endfor %}
</div>

<!-- IMAGE MODAL -->
<div id="imageModal" class="image-modal" onclick="closeModal()">
    <span class="close-modal">&times;</span>
    <img class="modal-content" id="modalImage">
</div>

{% endblock %}
