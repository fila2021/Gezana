{% extends "gezana_app/base.html" %}
{% load static %}

{% block title %}Menu – Gezana{% endblock %}

{% block content %}
<h2 class="menu-title">Our Traditional Habesha Dishes</h2>

<div class="menu-container">
    {% for item in items %}
    <div class="menu-card">

        <div class="menu-img-wrapper">
            {% if item.image and item.image.url %}
                <img src="{{ item.image.url }}" 
                     alt="{{ item.name }}" 
                     class="menu-img"
                     onclick="openModal('{{ item.image.url }}')">
            {% else %}
                <img src="{% static 'images/no_image_available.jpg' %}" class="menu-img">
            {% endif %}
        </div>

        <div class="menu-card-body">
            <h3 class="menu-item-name">{{ item.name }}</h3>

            <p class="menu-item-description">{{ item.description }}</p>

            <p class="menu-item-ingredients">
                <strong>Ingredients:</strong> {{ item.ingredients }}
            </p>

            <p class="menu-item-price">€{{ item.price }}</p>
        </div>

    </div>
    {% endfor %}
</div>

<section class="booking-actions">
    <div class="booking-actions-card">
        <h3>Already booked?</h3>
        <p>Enter your reference code to cancel quickly, or visit the cancel page.</p>
        <form action="{% url 'gezana_app:cancel_booking' %}" method="post" class="inline-cancel-form">
            {% csrf_token %}
            <input
                type="text"
                name="reference"
                placeholder="Enter reference code"
                required
            />
            <button type="submit" class="button danger">Cancel booking</button>
            <a class="button ghost" href="{% url 'gezana_app:cancel_booking' %}">Go to cancel page</a>
        </form>
    </div>
</section>

<!-- IMAGE MODAL -->
<div id="imageModal" class="image-modal" onclick="closeModal()">
    <span class="close-modal">&times;</span>
    <img class="modal-content" id="modalImage">
</div>

{% endblock %}
